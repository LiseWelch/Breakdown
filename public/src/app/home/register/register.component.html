<div class="container">
  <h1>Register</h1>
  <form (submit) = "onSubmit()">
    <div class="form-group">
      <label>First Name:</label>
      <input type="text" name="first_name" [(ngModel)]="newUser.firstName" required minlength="2" #first_name="ngModel">
    </div>
    <div class="errors" *ngIf = "first_name.errors && (first_name.dirty || first_name.touched)">
        <small *ngIf = "first_name.errors.required">First name is required</small>
        <small *ngIf = "first_name.errors.minlength">First name must be at least 2 characters</small>
    </div>
    <div class="form-group">
      <label>Last Name:</label>
      <input type="text" name="last_name" [(ngModel)]="newUser.lastName" required minlength="2" #last_name="ngModel">
    </div>
    <div class="errors" *ngIf = "last_name.errors && (last_name.dirty || last_name.touched)">
      <small *ngIf = "last_name.errors.required">Last name is required</small>
      <small *ngIf = "last_name.errors.minlength">Last name must be at least 2 characters</small>
    </div>
    <div class="form-group">
      <label>User Name:</label>
      <input type="text" name="username" [(ngModel)]="newUser.userName" required minlength="4" #username="ngModel">
    </div>
    <div class="errors" *ngIf = "username.errors && (username.dirty || username.touched)">
      <small *ngIf = "username.errors.required">Username is required</small>
      <small *ngIf = "username.errors.minlength">Username must be at least 2 characters</small>
    </div>
    <div class="errors">
      <small *ngIf = "usernameErr">{{ usernameErr }}</small>
    </div>
    <div class="form-group">
      <label>Email:</label>
      <input type="email" name="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" [(ngModel)]="newUser.email" required #email="ngModel">
    </div>
    <div class="errors" *ngIf = "email.errors && (email.dirty || email.touched)">
      <small *ngIf = "email.errors.required">Email is required</small>
      <small *ngIf = "email.errors.pattern">Must be valid email address</small>
    </div>
    <div class="errors">
      <small *ngIf = "emailErr">{{ emailErr }}</small>
    </div>
    <div class="form-group">
      <label>Password:</label>
      <input type="password" name="password" [(ngModel)]="newUser.password" required minlength="8" #password="ngModel">
    </div>
    <div class="errors" *ngIf = "password.errors && (password.dirty || password.touched)">
      <small *ngIf = "password.errors.required">Password is required</small>
      <small *ngIf = "password.errors.minlength">Password must be at least 8 characters</small>
    </div>
    <button type="submit" class="disabled" *ngIf="first_name.errors || last_name.errors || username.errors || email.errors || password.errors" disabled>Register</button>
    <button type="submit" *ngIf="!first_name.errors && !last_name.errors && !username.errors && !email.errors && !password.errors">Register</button>
  </form>
</div>
